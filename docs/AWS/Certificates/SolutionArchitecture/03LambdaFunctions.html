<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-AWS/Certificates/SolutionArchitecture/03LambdaFunctions" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">03 AWS Lambda Functions | Docusaurus Notes</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://jishen027.github.io/my-notes/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://jishen027.github.io/my-notes/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://jishen027.github.io/my-notes/docs/AWS/Certificates/SolutionArchitecture/03LambdaFunctions"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="03 AWS Lambda Functions | Docusaurus Notes"><meta data-rh="true" name="description" content="Introduce to Serverless"><meta data-rh="true" property="og:description" content="Introduce to Serverless"><link data-rh="true" rel="icon" href="/my-notes/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://jishen027.github.io/my-notes/docs/AWS/Certificates/SolutionArchitecture/03LambdaFunctions"><link data-rh="true" rel="alternate" href="https://jishen027.github.io/my-notes/docs/AWS/Certificates/SolutionArchitecture/03LambdaFunctions" hreflang="en"><link data-rh="true" rel="alternate" href="https://jishen027.github.io/my-notes/docs/AWS/Certificates/SolutionArchitecture/03LambdaFunctions" hreflang="x-default"><link rel="stylesheet" href="/my-notes/assets/css/styles.a0eaaa03.css">
<script src="/my-notes/assets/js/runtime~main.a6a43dbd.js" defer="defer"></script>
<script src="/my-notes/assets/js/main.56506142.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/my-notes/"><div class="navbar__logo"><img src="https://avatars.githubusercontent.com/u/32628248?v=4&amp;size=64" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://avatars.githubusercontent.com/u/32628248?v=4&amp;size=64" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Jeb&#x27;s Notes</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/my-notes/docs/AWS/Amplify">Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/jishen027" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/my-notes/docs/AWS/Amplify">AWS</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/Amplify">Amplify</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/my-notes/docs/AWS/Certificates/Developer/EC2">Certificates</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/my-notes/docs/AWS/Certificates/Developer/EC2">Developer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/00ComputeService">SolutionArchitecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/00ComputeService">00 Cloud Computing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/01NetworkingBasic">01 AWS Networking Basics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/02StorageService">02 Core AWS Storage Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/03LambdaFunctions">03 AWS Lambda Functions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/04ArchitectingServerlessApplication">Architecting Serverless Application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/ExamPrepAssociate">AWS Solution Architecture Associate Exam Prep</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/ExamPrepPro">AWS Solution Architecture Exam Prep</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/Well_Architected_Framework">Well Architected Framework</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/my-notes/docs/AWS/Certificates/SysOps/CloudWatch">SysOps</a></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/Cli">AWS Cli</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/my-notes/docs/AWS/CodePipeline/ExecutionsWork">CodePipeline</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/my-notes/docs/AWS/EKS/EKS_with_Fargate">EKS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/my-notes/docs/AWS/IOT/Authentication_with_aws_iot_core">IOT</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/my-notes/docs/AWS/S3/Set_up_with_node">S3</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/SecretManager">AWS Secret Manager</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/my-notes/docs/AWS/VPC">VPC</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Azure/Pipeline/Pipeline-Kubernetes">Azure</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Cypress/Cypress_Fundamentals">Cypress</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my-notes/docs/Django">Django</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Docker/Create_image">Docker</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Dotnet/Basic">Dotnet</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Express/Passport_JS">Express</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Git/AdvancedGit">Git</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/JS/Useful_algorithem">JS</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/JSPDF/DynamicPDFGenerator">JSPDF</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Jenkins/Jenkins_agent_dockerfile">Jenkins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/my-notes/docs/K8S">Kubernetes</a><button aria-label="Expand sidebar category &#x27;Kubernetes&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Laravel/Eloquent_Mutators_and_Casting">Laravel</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Linux/MyLinuxCommand">Linux</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/NextJs/NextAuth">NextJs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Nginx/Nginx_basic">Nginx</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my-notes/docs/Node">Node.js Fundamentals</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/OpenAI/Assistant">OpenAI</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Others/Design_an_API_key_for_company_client">Others</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/React/Hooks/customHook">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Redis/Install_Redis_Docker">Redis</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/SOLID/Dependency_Inversion_Principle">SOLID</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Terraform/Terraform_Certification_Exam">Terraform</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/TypeScript/TypeScript_basic">TypeScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/my-notes/docs/Vue/Drag_and_Drop_upload">Vue</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/my-notes/docs/Webpack">Webpack</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/my-notes/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AWS</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Certificates</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">SolutionArchitecture</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">03 AWS Lambda Functions</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>03 AWS Lambda Functions</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduce-to-serverless">Introduce to Serverless<a href="#introduce-to-serverless" class="hash-link" aria-label="Direct link to Introduce to Serverless" title="Direct link to Introduce to Serverless">​</a></h2>
<p><strong>AWS serverless platform</strong></p>
<p><img loading="lazy" alt="AWS serverless platform" src="/my-notes/assets/images/image-18-83e2af9ae0ee78dec831fb5bff622887.png" width="1037" height="400" class="img_ev3q"></p>
<p><strong>What is Lambda</strong></p>
<ul>
<li>run code without servers</li>
<li>initiates function for events</li>
<li>scale automatically</li>
<li>provide monitoring and logging via <code>Cloud Watch</code></li>
</ul>
<p><strong>Event-driven architectures</strong></p>
<p>An event-driven architecture uses events to initiate actions and communication between decoupled services.</p>
<p><strong>Producers, routers, comsumers</strong></p>
<p><img loading="lazy" alt="prc" src="/my-notes/assets/images/image-19-9098abde93c9bbf163819189c09ddd76.png" width="1159" height="495" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-aws-lambda-works">How AWS Lambda works<a href="#how-aws-lambda-works" class="hash-link" aria-label="Direct link to How AWS Lambda works" title="Direct link to How AWS Lambda works">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="invocation-models-for-running-lambda-functions">Invocation models for running Lambda functions<a href="#invocation-models-for-running-lambda-functions" class="hash-link" aria-label="Direct link to Invocation models for running Lambda functions" title="Direct link to Invocation models for running Lambda functions">​</a></h3>
<p>Event sources can invoke a Lambda function in three general patterns.</p>
<ul>
<li>
<p>Synchronous invocation</p>
<ul>
<li>
<p>Synchronous events expect an immediate response from the function invocation.</p>
</li>
<li>
<p>no build-in retries</p>
</li>
</ul>
<p><img loading="lazy" alt="Synchonous" src="/my-notes/assets/images/image-20-7b401b41a396457d2ab48401cd2c25fa.png" width="381" height="222" class="img_ev3q"></p>
<ul>
<li>
<p>Sychonours AWS Services</p>
<p>The following AWS services invoke Lambda synchronously:</p>
<p>Amazon API Gateway
Amazon Cognito
AWS CloudFormation
Amazon Alexa
Amazon Lex
Amazon CloudFront</p>
</li>
</ul>
</li>
<li>
<p>Asynchronours invocation</p>
<ul>
<li>
<p>Async invocation</p>
<p>When you invoke a function asynchronously, events are queued and the requestor doesn&#x27;t wait for the function to complete.</p>
<p><img loading="lazy" alt="Async invocation" src="/my-notes/assets/images/image-21-b6ba1302f5e6e005f5fba27d54c2caae.png" width="635" height="254" class="img_ev3q"></p>
</li>
<li>
<p>Async AWS service integration</p>
<ul>
<li>Amazon SNS</li>
<li>Amazon S3</li>
<li>Amazon EventBridge</li>
</ul>
</li>
<li>
<p>Destinations</p>
<p>A destination can send records of asynchronous invocations to other services.</p>
</li>
</ul>
</li>
<li>
<p>Polling invocation</p>
<ul>
<li>
<p>Polling</p>
<p>This invocation model is designed to integrate with AWS streaming and queuing based services with no code or server management. Lambda will poll (or watch) these services, retrieve any matching events, and invoke your functions</p>
<ul>
<li>Amazon Kinesis</li>
<li>Amazon SQS</li>
<li>Amazon DyanamoDB Strams</li>
</ul>
</li>
<li>
<p>Event Srouce Mapping</p>
<p>The configuration of services as event triggers is known as event source mapping. This process occurs when you configure event sources to launch your Lambda functions and then grant theses sources IAM permissions to access the Lambda function.</p>
<ul>
<li>Amazon DynamoDB</li>
<li>Amazon Kinesis</li>
<li>Amazon MQ</li>
<li>Amazon Managed Streaming for Apache Kafka</li>
<li>Self-managed Apache Kafka</li>
<li>Amazon SQS</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="invocation-model-error-behavior">Invocation model error behavior<a href="#invocation-model-error-behavior" class="hash-link" aria-label="Direct link to Invocation model error behavior" title="Direct link to Invocation model error behavior">​</a></h3>
<table><thead><tr><th>Invocation Model</th><th>Error Behavior</th></tr></thead><tbody><tr><td>Synchronous</td><td>No retries</td></tr><tr><td>Asynchronous</td><td>Built in – retries twice</td></tr><tr><td>Polling</td><td>Depends on event source</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lambda-execution-environment">Lambda execution environment<a href="#lambda-execution-environment" class="hash-link" aria-label="Direct link to Lambda execution environment" title="Direct link to Lambda execution environment">​</a></h3>
<p>Lambda invokes your function in an execution environment, which is a secure and isolated environment.</p>
<ul>
<li>Execution environment lifecycle</li>
</ul>
<p><img loading="lazy" alt="lifecycle" src="/my-notes/assets/images/image-22-b23bb3d0d02b3f8832bca059ece39253.png" width="745" height="163" class="img_ev3q"></p>
<ul>
<li>
<p>Init phase</p>
<p>In this phase, Lambda creates or unfreezes an execution environment with the configured resources, downloads the code for the function and all layers, initializes any extensions, initializes the runtime, and then runs the function’s initialization code (the code outside the main handler).</p>
<p>Sub-phase:</p>
<ol>
<li>Extension init - starts all extensions</li>
<li>Runtime init - boostraps the runtime</li>
<li>Function init - run the function&#x27;s static code</li>
</ol>
</li>
<li>
<p>Invoke pahse</p>
<p>In this phase, Lambda invokes the function handler.</p>
</li>
<li>
<p>Shutdown phase</p>
<p>If the Lambda function does not receive any invocations for a period of time, this phase initiates. In the Shutdown phase, Lambda shuts down the runtime, alerts the extensions to let them stop cleanly, and then removes the environment.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="performance-optimizetion">Performance optimizetion<a href="#performance-optimizetion" class="hash-link" aria-label="Direct link to Performance optimizetion" title="Direct link to Performance optimizetion">​</a></h3>
<ul>
<li>
<p>Cold and warm starts</p>
<p>A cold start occurs when a new execution environment is required to run a Lambda function.</p>
<p>In a warm start, the Lambda service retains the environment instead of destroying it immediately.</p>
<p><img loading="lazy" alt="Cold and Warm start" src="/my-notes/assets/images/image-23-c277ead44e0218bb27cc22671768782c.png" width="1118" height="442" class="img_ev3q"></p>
</li>
<li>
<p>Best practice: Minimize cold start times</p>
<p>For most applications, cold start is not a problem, however, for some synchronous models, thislatency can inhibit optimal performance.</p>
<ol>
<li>Optimize your function.</li>
<li>Use <code>Provisioned concurrency</code>, it can prepare concurrent execution environment before invocations.</li>
</ol>
</li>
<li>
<p>Best practice : Write functions to take advantage of warm starts</p>
<ol>
<li>Store and reference dependencies locally</li>
<li>Limit re-initialization of variables</li>
<li>Add code to check for and reuse existing connections</li>
<li>Use tmp space as transient cache</li>
<li>Check that background processes have completed.</li>
</ol>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aws-lambda-function-permissions">AWS Lambda Function Permissions<a href="#aws-lambda-function-permissions" class="hash-link" aria-label="Direct link to AWS Lambda Function Permissions" title="Direct link to AWS Lambda Function Permissions">​</a></h2>
<p>With Lambda functions, there are two sides that define the necessary scope of permissions – permission to invoke the function, and permission of the Lambda function itself to act upon other services.</p>
<p><img loading="lazy" alt="Lambda Function Permissions" src="/my-notes/assets/images/image-24-445360782cc166092b53c0f9380b5e31.png" width="516" height="203" class="img_ev3q"></p>
<p><img loading="lazy" alt="IAM Execution Roles" src="/my-notes/assets/images/image-25-11ee73d774e507dc45f7d1b17568ef2d.png" width="1009" height="453" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-role">Execution role<a href="#execution-role" class="hash-link" aria-label="Direct link to Execution role" title="Direct link to Execution role">​</a></h3>
<p>The execution role gives your function permissions to interact with other services.</p>
<p>Example : Execution role definitions</p>
<ul>
<li>IAM policy</li>
</ul>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Version&quot;: &quot;2012-10-17&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Statement&quot; : [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Sid&quot;: &quot;Allow PutItem in table/test&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Action&quot;: &quot;dynamodb:PutItem&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Resource&quot;: &quot;arn:aws:dynamodb:eu-west-2:###:table/test&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>Trust policy</li>
</ul>
<p>A trust policy defines what actions your role can assume. The trust policy allows Lambda to use the role&#x27;s permissions by giving the service principal lambda.amazonaws.com permission to call the AWS Security Token Service (AWS STS) AssumeRole action.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Action&quot;: &quot;sts:AssumeRole&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;Principal&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Service&quot;: &quot;lambda.amazonaws.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="resource-based-policy">Resource-based policy<a href="#resource-based-policy" class="hash-link" aria-label="Direct link to Resource-based policy" title="Direct link to Resource-based policy">​</a></h3>
<p>A resource policy (also called a function policy) tells the Lambda service which principals have permission to invoke the Lambda function. An AWS principal may be a user, role, another AWS service, or another AWS account.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="policy-comparison">Policy comparison<a href="#policy-comparison" class="hash-link" aria-label="Direct link to Policy comparison" title="Direct link to Policy comparison">​</a></h3>
<ul>
<li>
<p>Resource-based policy</p>
<p>Lambda resource-based policy</p>
<ul>
<li>Associated with a &quot;push&quot; event srouce such as Amazon API gateway</li>
<li>Created when you add a trigger to a Lambda function</li>
<li>Allows the event source to take the lambda<!-- -->:invokeFunction<!-- --> action</li>
</ul>
</li>
<li>
<p>Execution role</p>
<p>IAM execution role</p>
<ul>
<li>Role selected or created when you create a lambda function</li>
<li>IAM Policy includes actions you can take with the resource</li>
<li>Trust policy that allows Lambda to AssumeRole</li>
<li>Creator must have permission for iam<!-- -->:PassRole</li>
</ul>
</li>
<li>
<p>Example resource policy</p>
</li>
</ul>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Version&quot; : &quot;2012-10-17&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Id&quot; : &quot;test-policy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;Statement&quot; : [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Sid&quot;: &quot;lambdaInvoke&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Effect&quot;: &quot;Allow&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Principal&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;Service&quot;: &quot;s3.amazonaws.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Action&quot;: &quot;lambda:InvokeFunction&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Resource&quot;: &quot;arn:aws:lambda:eu-west-2:###:function:test&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;Condition&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;ArnLike&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;AWS:SourceArn&quot;: &quot;arn:aws:s3:::test-bucket&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="accessing-resources-in-a-vpc">Accessing resources in a VPC<a href="#accessing-resources-in-a-vpc" class="hash-link" aria-label="Direct link to Accessing resources in a VPC" title="Direct link to Accessing resources in a VPC">​</a></h3>
<p>Enabling your Lambda function to access resources inside your virtual private cloud (VPC) requires additional VPC-specific configuration information, such as VPC <code>subnet IDs</code> and <code>security group IDs</code>.</p>
<ul>
<li>
<p>Lambda and AWS PrivateLink</p>
<p>To establish a private connection between your VPC and Lambda, create an interface VPC endpoint.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="authoring-aws-lambda-functions">Authoring AWS Lambda functions<a href="#authoring-aws-lambda-functions" class="hash-link" aria-label="Direct link to Authoring AWS Lambda functions" title="Direct link to Authoring AWS Lambda functions">​</a></h2>
<ul>
<li>learn best practice for writing Lambda function code.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-your-own-code">Use your own code<a href="#use-your-own-code" class="hash-link" aria-label="Direct link to Use your own code" title="Direct link to Use your own code">​</a></h3>
<ul>
<li>
<p>Supported languages</p>
<p>Node.js, C#...</p>
</li>
<li>
<p>Start with the handler method</p>
<p>The Lambda function handler is the method in your function code that processes events.</p>
<p>The handler method takes two objects</p>
<ul>
<li>
<p>Event Ojbect</p>
<ul>
<li>required</li>
<li>when lambda invoked, <code>event object</code> will be provide to handler</li>
<li>event object is different</li>
<li>inlcude metadata your lambda function needs</li>
</ul>
</li>
<li>
<p>Context Object (optional)</p>
<ul>
<li>allow you function code to interact with the lambda execution environment.</li>
<li>The content and structure based on language runtime, minimum element contains:<!-- -->
<ul>
<li><code>AWS RequestID</code></li>
<li><code>Runtime</code></li>
<li><code>Logging</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Design best practices</p>
<ol>
<li>Separate business logic</li>
</ol>
<p>Separate your core business logic from the handler event.
<img loading="lazy" alt="separate business logic" src="/my-notes/assets/images/image-26-f1cefa3531bc8a999416fc5aede8b32f.png" width="716" height="316" class="img_ev3q"></p>
<ol start="2">
<li>Write modular functions</li>
</ol>
<p>Module functions will reduce the amount of time that it takes for your deployment package to be downloaded and unpacked before invocation.</p>
<p><img loading="lazy" alt="module functions" src="/my-notes/assets/images/image-27-ba81d6522b3211323279b265a4d2d3cd.png" width="629" height="219" class="img_ev3q"></p>
<ol start="3">
<li>Treat functions as stateless</li>
</ol>
<p>No information about state should be saved within the context of the function itself.</p>
<p>Consider one of the following options for storing state data:</p>
<ul>
<li>
<p>DynamoDB</p>
</li>
<li>
<p>ElasticCache</p>
</li>
<li>
<p>S3</p>
</li>
</ul>
<ol start="4">
<li>Only include what you need</li>
</ol>
<p>Minimize both your deployment package dependencies and its size.
This can have a significant impact on the startup time for your function.</p>
</li>
<li>
<p>Best parctices for writing code</p>
<ol>
<li>
<p>Include logging statements</p>
<p>Lambda functions can and should include logging statements, which are written to CloudWatch.</p>
<p>example</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> logging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logger </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> logging</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">getLogger</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">logger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">setLevel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">logging</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">INFO</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">lambda_handler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  logger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;## ENVIRONMENT VARIABLES&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  logger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  logger</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Use return coding</p>
<p>Functions must give Lambda information about the results of their actions.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">handler</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">event</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> context</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;EVENT: \n&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">stringify</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">event</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">logStreamName</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Provide environment variables</p>
<ul>
<li>
<p>Take advantage of environment variables for operational parameters.</p>
</li>
<li>
<p>You can use these parameters to pass updated configuration settings without changes to the code itself.</p>
</li>
<li>
<p>You can also use environment variables to store sensitive information required by the function.</p>
</li>
</ul>
</li>
<li>
<p>Add secret and refernce data</p>
<p>AWS Secrets Manager helps you organize and manage important configuration data such as credentials, passwords, and license keys.</p>
</li>
<li>
<p>Avoid recursive code</p>
<p>Avoid a situation in which a function calls itself.</p>
<p>Recursive code could lead to uncontrolled scaling of invocations that would make you lose control of your concurrency.</p>
</li>
<li>
<p>Gather metrics with Amazon <code>CloudWatch</code></p>
<p>The CloudWatch embedded metric format (EMF) is a JSON specification used to instruct CloudWatch Logs to automatically extract metric values embedded in structured log events.</p>
</li>
<li>
<p>Reuse execution context</p>
<ol>
<li>
<p>Store dependencies locally.</p>
</li>
<li>
<p>Limit re-initialization of variables.</p>
</li>
<li>
<p>Reuse existing connections.</p>
</li>
<li>
<p>Use tmp space as transient cache.</p>
</li>
<li>
<p>Check that background processes have completed.</p>
</li>
</ol>
</li>
</ol>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="building-lambda-functions">Building Lambda functions<a href="#building-lambda-functions" class="hash-link" aria-label="Direct link to Building Lambda functions" title="Direct link to Building Lambda functions">​</a></h3>
<ul>
<li>
<p>Lambda console editor</p>
<p>You can author functions within the Lambda console, with an IDE toolkit, using command line tools, or using the AWS SDKs.</p>
</li>
<li>
<p>Deployment packages</p>
<p>Your Lambda function&#x27;s code consists of scripts or compiled programs and their dependencies.</p>
</li>
<li>
<p>Automate using tools</p>
<p>Serverless applications built using Lambda are a combination of Lambda functions, event sources, and other resources defined using the AWS Serverless Application Model (AWS SAM).</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-sam">What is SAM<a href="#what-is-sam" class="hash-link" aria-label="Direct link to What is SAM" title="Direct link to What is SAM">​</a></h3>
<p>AWS SAM is an open-source framework for building serverless applications. It provides shorthand syntax to express functions, APIs, databases, and event source mappings. With just a few lines per resource, you can define the application you want and model it using YAML. You provide AWS SAM with simplified instructions for your environment and during deployment AWS SAM transforms and expands the AWS SAM syntax into AWS CloudFormation syntax (a fully detailed CloudFormation template).</p>
<p><img loading="lazy" alt="sam" src="/my-notes/assets/images/image-28-c7c4f717c26859a9d8c90c446a17e088.png" width="704" height="435" class="img_ev3q"></p>
<ul>
<li>
<p>SAM prebuild policies
AWS SAM provides a number of predefined, commonly used templates that you can use to build for least privilege security access.</p>
</li>
<li>
<p>SAM CLI can test and deploy the lambda function</p>
<ol>
<li>Invoke functions and run automated tests locally.</li>
<li>Generate sample event srouce payloads.</li>
<li>Run api gateway locally.</li>
<li>Debug code.</li>
<li>Review Lambda function logs.</li>
<li>Validate AWS SAM templates.</li>
</ol>
<p><img loading="lazy" alt="SAM CLI" src="/my-notes/assets/images/image-29-1c68584eaae508562d6a45b25aa480fa.png" width="566" height="385" class="img_ev3q"></p>
</li>
<li>
<p>AWS SAM CLI</p>
<ol>
<li>
<p>init</p>
<p>Initializes a serverless application.</p>
</li>
<li>
<p>local
Runs application locally</p>
</li>
<li>
<p>validate</p>
<p>Validates an AWS SAM template.</p>
</li>
<li>
<p>deploy</p>
<p>Deploys an sam application</p>
</li>
<li>
<p>build</p>
<p>Builds a serverless application and prepares it for subsequent steps in your workflow.</p>
</li>
</ol>
</li>
<li>
<p>Serverless CI/CD pipeline</p>
<ul>
<li>CodeBuild - Automate the process of packaging code and run tests</li>
<li>CodeDeploy - Use Version management options to ensure safe deployments.</li>
</ul>
<p><img loading="lazy" alt="CI/CD Serverless" src="/my-notes/assets/images/image-30-5ff706cb292b9e0244006b18ee11129d.png" width="659" height="393" class="img_ev3q"></p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-your-lambda-functions">Configuring your Lambda functions<a href="#configuring-your-lambda-functions" class="hash-link" aria-label="Direct link to Configuring your Lambda functions" title="Direct link to Configuring your Lambda functions">​</a></h2>
<p>When building and testing a function, you must specify three primary configuration settings: memory, timeout, and concurrency.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="memory">Memory<a href="#memory" class="hash-link" aria-label="Direct link to Memory" title="Direct link to Memory">​</a></h3>
<p>Up to 10 GB of memeory to a Lambda function.Lambda allocates CPU and other resources linearly in proportion to the amount of memory configured. Any increase in memory size triggers an equivalent increase in CPU available to your function.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="timeout">Timeout<a href="#timeout" class="hash-link" aria-label="Direct link to Timeout" title="Direct link to Timeout">​</a></h3>
<p>The AWS Lambda timeout value dictates how long a function can run before Lambda terminates the Lambda function.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lmabda-billing-costs">Lmabda billing costs<a href="#lmabda-billing-costs" class="hash-link" aria-label="Direct link to Lmabda billing costs" title="Direct link to Lmabda billing costs">​</a></h3>
<p>With AWS Lambda, you pay only for what you use. You are charged based on the number of requests for your functions and the duration, the time it takes for your code to run. Lambda counts a request each time it starts running in response to an event notification or an invoke call, including test invokes from the console.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-balance-between-power-and-duration">The balance between power and duration<a href="#the-balance-between-power-and-duration" class="hash-link" aria-label="Direct link to The balance between power and duration" title="Direct link to The balance between power and duration">​</a></h3>
<p>Depending on the function, you might find that the higher memory level might actually cost less because the function can complete much more quickly than at a lower memory configuration.</p>
<p><img loading="lazy" alt="Balance between" src="/my-notes/assets/images/image-31-d77f4a82f5019a2ed03ce9d83af0110b.png" width="959" height="477" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="concurrency-and-scaling">Concurrency and scaling<a href="#concurrency-and-scaling" class="hash-link" aria-label="Direct link to Concurrency and scaling" title="Direct link to Concurrency and scaling">​</a></h3>
<p>Having more than one invocation running at the same time is the function&#x27;s concurrency.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="concurrency-types">Concurrency types<a href="#concurrency-types" class="hash-link" aria-label="Direct link to Concurrency types" title="Direct link to Concurrency types">​</a></h4>
<ul>
<li>
<p>Unreserved concurrency</p>
<p>The amount of concurrency that is not allocated to any specific set of functions. The minimum is 100 unreserved concurrency. This allows functions that do not have any provisioned concurrency to still be able to run.</p>
</li>
<li>
<p>Reserved concurrency</p>
<p>Guarantees the maximum number of concurrent instances for the function.</p>
</li>
<li>
<p>Provisioned concurrency</p>
<p>Initializes a requested number of runtime environments so that they are prepared to respond immediately to your function&#x27;s invocations. This option is used when you need high performance and low latency.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="reasons-for-setting-concurrency-limits">Reasons for setting concurrency limits<a href="#reasons-for-setting-concurrency-limits" class="hash-link" aria-label="Direct link to Reasons for setting concurrency limits" title="Direct link to Reasons for setting concurrency limits">​</a></h4>
<ul>
<li>
<p>Limit concurrency</p>
<ul>
<li>Limit costs</li>
<li>Regulate how long it takes you to process a batch of events</li>
<li>Match it with a downstream resource that cannot scale as quickly as Lambda</li>
</ul>
</li>
<li>
<p>Reserve concurrency</p>
<ul>
<li>Ensure that you can handle peak expected volume for a critical function</li>
<li>Address invocation errors</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-concurrency-bursts-are-managed">How concurrency bursts are managed<a href="#how-concurrency-bursts-are-managed" class="hash-link" aria-label="Direct link to How concurrency bursts are managed" title="Direct link to How concurrency bursts are managed">​</a></h3>
<p>A burst is when there is a sudden increase in the number of instances needed to fulfill the requested number of running functions.</p>
<p>The burst quotas differ by region:</p>
<ul>
<li>
<p>3000 – US West (Oregon), US East (N. Virginia), Europe (Ireland)</p>
</li>
<li>
<p>1000 – Asia Pacific (Tokyo), Europe (Frankfurt), US East (Ohio)</p>
</li>
<li>
<p>500 – Other Regions</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cloudwatch-metrics-for-concurrency">CloudWatch metrics for concurrency<a href="#cloudwatch-metrics-for-concurrency" class="hash-link" aria-label="Direct link to CloudWatch metrics for concurrency" title="Direct link to CloudWatch metrics for concurrency">​</a></h3>
<p>When your function finishes processing an event, Lambda sends metrics about the invocation to Amazon CloudWatch. You can build graphs and dashboards with these metrics in the CloudWatch console.</p>
<ul>
<li>
<p>Two build-in Cloudwatch metrics</p>
<ol>
<li>
<p>ConcurrentExecutions</p>
</li>
<li>
<p>UnreservedConcurrentExecutions</p>
</li>
</ol>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing-concurrency">Testing Concurrency<a href="#testing-concurrency" class="hash-link" aria-label="Direct link to Testing Concurrency" title="Direct link to Testing Concurrency">​</a></h3>
<ul>
<li>Run performance test that simulate peak levels of invocations</li>
<li>Determine whether the existing backend can handler the speed of rquests sent to it.</li>
<li>Does the error handling work as expected.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-and-testing-serverless-applications">Deploying and Testing Serverless Applications<a href="#deploying-and-testing-serverless-applications" class="hash-link" aria-label="Direct link to Deploying and Testing Serverless Applications" title="Direct link to Deploying and Testing Serverless Applications">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-and-debug-application">Test and debug application<a href="#test-and-debug-application" class="hash-link" aria-label="Direct link to Test and debug application" title="Direct link to Test and debug application">​</a></h3>
<p><img loading="lazy" alt="test and debug" src="/my-notes/assets/images/image-32-ed4ed2da3bd9e79014012ce3b35f7195.png" width="490" height="232" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ensures-environmental-parity">Ensures environmental parity<a href="#ensures-environmental-parity" class="hash-link" aria-label="Direct link to Ensures environmental parity" title="Direct link to Ensures environmental parity">​</a></h3>
<p><img loading="lazy" alt="Ensures environmental parity" src="/my-notes/assets/images/image-33-cdcc9ee46ba7b4b1646b6676534acf77.png" width="561" height="588" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="reduce-risk-using-versions-and-aliases">Reduce risk using versions and aliases<a href="#reduce-risk-using-versions-and-aliases" class="hash-link" aria-label="Direct link to Reduce risk using versions and aliases" title="Direct link to Reduce risk using versions and aliases">​</a></h3>
<ul>
<li>
<p>Versioning</p>
<p>For example, you can publish a new version of a function for beta testing without affecting users of the stable production version. Lambda creates a new version of your function each time that you publish the function. The new version is a copy of the unpublished version of the function.</p>
</li>
<li>
<p>Publish</p>
<p>Publish makes a snapshot copy of $LATEST.</p>
<p>Enable versioning to create immutable snapshots of your function every time you publish it.</p>
<ul>
<li>Publish as many versions as you need.</li>
<li>Each version results in a new sequential version number.</li>
<li>Add the version number to the function ARN to reference it.</li>
<li>The snapshot becomes the new version and is immutable.</li>
</ul>
</li>
<li>
<p>Aliases</p>
<p>A Lambda alias is like a pointer to a specific function version. You can access the function version using the alias ARN. Each alias has a unique ARN. An alias can point only to a function version, not to another alias. You can update an alias to point to a new version of the function.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="test-using-alias-routing">Test using alias routing<a href="#test-using-alias-routing" class="hash-link" aria-label="Direct link to Test using alias routing" title="Direct link to Test using alias routing">​</a></h3>
<p>You can also use routing configuration on an alias to send a portion of traffic to a second function version.For example, you can reduce the risk of deploying a new version by configuring the alias to send most of the traffic to the existing version and only a small percentage of traffic to the new version.</p>
<p>You can point an alias to a maximum of two Lambda function versions. The versions must meet the following criteria:</p>
<ul>
<li>Both versions must have the same runtime role.</li>
<li>Both versions must have the same dead-letter queue configuration, or no dead-letter queue configuration.</li>
<li>Both versions must be published. The alias cannot point to $LATEST.</li>
</ul>
<p><img loading="lazy" alt="test using alias routing" src="/my-notes/assets/images/image-34-6de7fe6ffcac2a4c8953c68f5c2eba0c.png" width="974" height="235" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="integrate-with-aws-codedeploy">Integrate with AWS CodeDeploy<a href="#integrate-with-aws-codedeploy" class="hash-link" aria-label="Direct link to Integrate with AWS CodeDeploy" title="Direct link to Integrate with AWS CodeDeploy">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-and-troubleshooting">Monitoring and Troubleshooting<a href="#monitoring-and-troubleshooting" class="hash-link" aria-label="Direct link to Monitoring and Troubleshooting" title="Direct link to Monitoring and Troubleshooting">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-monitoring-graphs">Types of monitoring graphs<a href="#types-of-monitoring-graphs" class="hash-link" aria-label="Direct link to Types of monitoring graphs" title="Direct link to Types of monitoring graphs">​</a></h3>
<ul>
<li>Number o requests</li>
<li>Invocation duration per request</li>
<li>Number of requests that result in an error</li>
</ul>
<p>Amazon CloudWatch provides built-in matrics:</p>
<ul>
<li>
<p>Invocations</p>
</li>
<li>
<p>Duration</p>
</li>
<li>
<p>Errors</p>
</li>
<li>
<p>Throttles</p>
<p>The number of times that a process failed because of concurrency limits.</p>
</li>
<li>
<p>IteratorAge</p>
<p>Pertains to event source mappings that read from streams. The age of the last record in the event. The age is the amount of time between when the stream receives the record and when the event source mapping sends the event to the function.</p>
</li>
<li>
<p>DeadLetterErrors</p>
<p>For asynchronous invocation, this is the number of times Lambda attempts to send an event to a dead-letter queue but fails.</p>
</li>
<li>
<p>ConcurrentExecutions</p>
<p>The number of function instances that are processing events.</p>
<ul>
<li>UnreservedConcurrentExecutions – The number of events that are being processed by functions that don&#x27;t have reserved concurrency.</li>
<li>ProvisionedConcurrentExecutions – The number of function instances that are processing events on provisioned concurrency. For each invocation of an alias or version with provisioned concurrency, Lambda emits the current count.</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amazon-cloudwatch-lambda-insights">Amazon CloudWatch Lambda Insights<a href="#amazon-cloudwatch-lambda-insights" class="hash-link" aria-label="Direct link to Amazon CloudWatch Lambda Insights" title="Direct link to Amazon CloudWatch Lambda Insights">​</a></h3>
<p>Amazon CloudWatch Lambda Insights is a monitoring and troubleshooting solution for serverless applications running on Lambda. Lambda Insights collects, aggregates, and summarizes system-level metrics. It also summarizes diagnostic information such as cold starts and Lambda worker shutdowns to help you isolate issues with your Lambda functions and resolve them quickly</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-lambda-functions-using-aws-x-ray">Monitoring Lambda functions using AWS X-Ray<a href="#monitoring-lambda-functions-using-aws-x-ray" class="hash-link" aria-label="Direct link to Monitoring Lambda functions using AWS X-Ray" title="Direct link to Monitoring Lambda functions using AWS X-Ray">​</a></h3>
<p>You can use AWS X-Ray to visualize the components of your application, identify performance bottlenecks, and troubleshoot requests that resulted in an error. Your Lambda functions send trace data to X-Ray, and X-Ray processes the data to generate a service map and searchable trace summaries.</p>
<p>AWS X-Ray records how the Lambda functions are running.</p>
<ul>
<li>Turning performance</li>
<li>Identifying the call flow if Lambda functions and API calls</li>
<li>Tracing path and timing of an invocation to locate bottlenecks and failures</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="additional-monitoring-and-troubleshooting-tools">Additional monitoring and troubleshooting tools<a href="#additional-monitoring-and-troubleshooting-tools" class="hash-link" aria-label="Direct link to Additional monitoring and troubleshooting tools" title="Direct link to Additional monitoring and troubleshooting tools">​</a></h3>
<ul>
<li>
<p>AWS Cloudtrail</p>
<p>AWS CloudTrail helps audit your application by recording all the API actions made against the application. These logs can be exported to the analysis tool of your choice for additional analysis.</p>
<ul>
<li>The default Lambda CloudTrail logging is for control plane (management) events.</li>
<li>Optional logging: CloudTrail also logs data events. You can turn on data event logging so that you log an event every time Lambda functions are invoked.</li>
</ul>
<p>CloudTrail can be an important tool for auditing serverless deployments and rolling back unplanned deployments.</p>
</li>
<li>
<p>Dead-letter queues</p>
<p>Dead-letter queues help you capture application errors that must receive a response, such as an ecommerce application that processes orders. If an order fails, you cannot ignore that order error. You move that error into the dead-letter queue and manually look at the queue and fix the problems.</p>
<ul>
<li>Use dead-letter queues to analyze failures for follow-up or code corrections.</li>
<li>Dead-letter queues are available for asynchronous and non-stream polling events.</li>
<li>A dead-letter queue can be an Amazon Simple Notification Service (Amazon SNS) topic or an Amazon Simple Queue Service (Amazon SQS) queue.</li>
</ul>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/jishen027/my-notes/tree/main/docs/AWS/Certificates/SolutionArchitecture/03LambdaFunctions.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/02StorageService"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">02 Core AWS Storage Services</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/my-notes/docs/AWS/Certificates/SolutionArchitecture/04ArchitectingServerlessApplication"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Architecting Serverless Application</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduce-to-serverless" class="table-of-contents__link toc-highlight">Introduce to Serverless</a></li><li><a href="#how-aws-lambda-works" class="table-of-contents__link toc-highlight">How AWS Lambda works</a><ul><li><a href="#invocation-models-for-running-lambda-functions" class="table-of-contents__link toc-highlight">Invocation models for running Lambda functions</a></li><li><a href="#invocation-model-error-behavior" class="table-of-contents__link toc-highlight">Invocation model error behavior</a></li><li><a href="#lambda-execution-environment" class="table-of-contents__link toc-highlight">Lambda execution environment</a></li><li><a href="#performance-optimizetion" class="table-of-contents__link toc-highlight">Performance optimizetion</a></li></ul></li><li><a href="#aws-lambda-function-permissions" class="table-of-contents__link toc-highlight">AWS Lambda Function Permissions</a><ul><li><a href="#execution-role" class="table-of-contents__link toc-highlight">Execution role</a></li><li><a href="#resource-based-policy" class="table-of-contents__link toc-highlight">Resource-based policy</a></li><li><a href="#policy-comparison" class="table-of-contents__link toc-highlight">Policy comparison</a></li><li><a href="#accessing-resources-in-a-vpc" class="table-of-contents__link toc-highlight">Accessing resources in a VPC</a></li></ul></li><li><a href="#authoring-aws-lambda-functions" class="table-of-contents__link toc-highlight">Authoring AWS Lambda functions</a><ul><li><a href="#use-your-own-code" class="table-of-contents__link toc-highlight">Use your own code</a></li><li><a href="#building-lambda-functions" class="table-of-contents__link toc-highlight">Building Lambda functions</a></li><li><a href="#what-is-sam" class="table-of-contents__link toc-highlight">What is SAM</a></li></ul></li><li><a href="#configuring-your-lambda-functions" class="table-of-contents__link toc-highlight">Configuring your Lambda functions</a><ul><li><a href="#memory" class="table-of-contents__link toc-highlight">Memory</a></li><li><a href="#timeout" class="table-of-contents__link toc-highlight">Timeout</a></li><li><a href="#lmabda-billing-costs" class="table-of-contents__link toc-highlight">Lmabda billing costs</a></li><li><a href="#the-balance-between-power-and-duration" class="table-of-contents__link toc-highlight">The balance between power and duration</a></li><li><a href="#concurrency-and-scaling" class="table-of-contents__link toc-highlight">Concurrency and scaling</a></li><li><a href="#how-concurrency-bursts-are-managed" class="table-of-contents__link toc-highlight">How concurrency bursts are managed</a></li><li><a href="#cloudwatch-metrics-for-concurrency" class="table-of-contents__link toc-highlight">CloudWatch metrics for concurrency</a></li><li><a href="#testing-concurrency" class="table-of-contents__link toc-highlight">Testing Concurrency</a></li></ul></li><li><a href="#deploying-and-testing-serverless-applications" class="table-of-contents__link toc-highlight">Deploying and Testing Serverless Applications</a><ul><li><a href="#test-and-debug-application" class="table-of-contents__link toc-highlight">Test and debug application</a></li><li><a href="#ensures-environmental-parity" class="table-of-contents__link toc-highlight">Ensures environmental parity</a></li><li><a href="#reduce-risk-using-versions-and-aliases" class="table-of-contents__link toc-highlight">Reduce risk using versions and aliases</a></li><li><a href="#test-using-alias-routing" class="table-of-contents__link toc-highlight">Test using alias routing</a></li><li><a href="#integrate-with-aws-codedeploy" class="table-of-contents__link toc-highlight">Integrate with AWS CodeDeploy</a></li></ul></li><li><a href="#monitoring-and-troubleshooting" class="table-of-contents__link toc-highlight">Monitoring and Troubleshooting</a><ul><li><a href="#types-of-monitoring-graphs" class="table-of-contents__link toc-highlight">Types of monitoring graphs</a></li><li><a href="#amazon-cloudwatch-lambda-insights" class="table-of-contents__link toc-highlight">Amazon CloudWatch Lambda Insights</a></li><li><a href="#monitoring-lambda-functions-using-aws-x-ray" class="table-of-contents__link toc-highlight">Monitoring Lambda functions using AWS X-Ray</a></li><li><a href="#additional-monitoring-and-troubleshooting-tools" class="table-of-contents__link toc-highlight">Additional monitoring and troubleshooting tools</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Jeb Lee's Docs, build with Docusaurus.</div></div></div></footer></div>
</body>
</html>