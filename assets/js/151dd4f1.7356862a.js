"use strict";(self.webpackChunkmd_note=self.webpackChunkmd_note||[]).push([[8291],{2376:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>l,frontMatter:()=>s,metadata:()=>o,toc:()=>h});var a=t(5893),r=t(1151);const s={},i=void 0,o={id:"JSPDF/DynamicPDFGenerator",title:"DynamicPDFGenerator",description:"a Javascript class for generating PDFs on the fly",source:"@site/docs/JSPDF/DynamicPDFGenerator.md",sourceDirName:"JSPDF",slug:"/JSPDF/DynamicPDFGenerator",permalink:"/docs/JSPDF/DynamicPDFGenerator",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/JSPDF/DynamicPDFGenerator.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Useful_algorithem",permalink:"/docs/JS/Useful_algorithem"},next:{title:"Jenkins_agent_dockerfile",permalink:"/docs/Jenkins/Jenkins_agent_dockerfile"}},d={},h=[{value:"a Javascript class for generating PDFs on the fly",id:"a-javascript-class-for-generating-pdfs-on-the-fly",level:2},{value:"using the JSPDF library and html2canvas",id:"using-the-jspdf-library-and-html2canvas",level:2},{value:"Usage",id:"usage",level:2}];function c(e){const n={code:"code",h2:"h2",pre:"pre",...(0,r.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"a-javascript-class-for-generating-pdfs-on-the-fly",children:"a Javascript class for generating PDFs on the fly"}),"\n",(0,a.jsx)(n.h2,{id:"using-the-jspdf-library-and-html2canvas",children:"using the JSPDF library and html2canvas"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:'import jsPDF from "jspdf";\nimport html2canvas from "html2canvas";\nimport esv_logo from "../assets/images/logo_esv.png";\n\nclass PDFGenerator {\n  constructor() {\n    this.pdf = new jsPDF();\n    this.currentY = 20;\n  }\n\n  convertToImage(element) {\n    return html2canvas(element, {\n      backgroundColor: "#fff",\n      scale: 10,\n    });\n  }\n\n  checkAndAddNewPage(height) {\n    if (this.currentY + height > 297) {\n      this.pdf.addPage();\n      this.currentY = 10;\n      this.addHeader(); // Add the header to each new page\n      this.addFooter(); // Add the footer to each new page\n    }\n  }\n\n  async addPieCharts(elements, width, height) {\n    const canvases = await Promise.all(\n      elements.map((element) => this.convertToImage(element))\n    );\n    // add pie charts to pdf by looping through the canvases, two charts per row\n    canvases.forEach((canvas, index) => {\n      const x = index % 2 === 0 ? 10 : 110;\n      const y = Math.floor(index / 2) * 100 + this.currentY;\n      this.checkAndAddNewPage(height);\n      this.pdf.addImage(canvas, "JPEG", x, y, width, height);\n    });\n    this.currentY += Math.ceil(canvases.length / 2) * 100 + 10;\n  }\n\n  async addBarChart(element, width, height) {\n    const image = await this.convertToImage(element);\n\n    this.checkAndAddNewPage(height);\n    this.pdf.addImage(image, "JPEG", 10, this.currentY, width, height);\n    this.currentY += height + 10;\n  }\n\n  async addMatrixChart(element, width, height) {\n    const image = await this.convertToImage(element);\n    this.checkAndAddNewPage(height);\n    this.pdf.addImage(image, "JPEG", 10, this.currentY, width, height);\n    this.currentY += height + 10;\n  }\n\n  addText(text, fontSize, fontStyle, align, maxWidth) {\n    this.checkAndAddNewPage(fontSize);\n    this.pdf.setFontSize(fontSize);\n    this.pdf.setFont("helvetica", fontStyle);\n    this.pdf.text(text, 10, this.currentY, { align, maxWidth });\n    this.currentY += fontSize + 10;\n  }\n\n  addHeader() {\n    this.pdf.addImage(esv_logo, "PNG", 10, 5, 50, 10);\n    this.pdf.setFontSize(20);\n    this.pdf.setFont("helvetica", "bold");\n    this.pdf.text("Analytics", 70, 10);\n    this.currentY = 20;\n  }\n\n  addFooter() {\n    const pageCount = this.pdf.internal.getNumberOfPages();\n    this.pdf.setFontSize(10);\n    this.pdf.setFont("helvetica", "normal");\n    this.pdf.text(\n      `Page ${pageCount}`,\n      this.pdf.internal.pageSize.width - 20,\n      this.pdf.internal.pageSize.height - 10,\n      { align: "right" }\n    );\n    // Other footer content goes here\n  }\n\n  addBreakLine() {\n    this.currentY += 10;\n    this.pdf.line(10, this.currentY, 200, this.currentY);\n  }\n\n  savePDF(title) {\n    this.pdf.save(`${title}-analytics.pdf`);\n  }\n}\n\nexport default PDFGenerator;\n'})}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-javascript",children:'import PDFGenerator from "./PDFGenerator";\n\nconst pdfGenerator = new PDFGenerator();\n\npdfGenerator.addHeader();\npdfGenerator.addText("Some text", 12, "normal", "left", 100);\npdfGenerator.addBreakLine();\npdfGenerator.addText("Some more text", 12, "normal", "left", 100);\npdfGenerator.addBreakLine();\npdfGenerator.addText("Some more text", 12, "normal", "left", 100);\n'})})]})}function l(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>i});var a=t(7294);const r={},s=a.createContext(r);function i(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);