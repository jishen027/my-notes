"use strict";(self.webpackChunkmd_note=self.webpackChunkmd_note||[]).push([[7961],{9140:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>c,metadata:()=>d,toc:()=>a});var s=r(5893),o=r(1151);const c={},i=void 0,d={id:"Docker/Docker_compose",title:"Docker_compose",description:"Docker composer",source:"@site/docs/Docker/Docker_compose.md",sourceDirName:"Docker",slug:"/Docker/Docker_compose",permalink:"/my-notes/docs/Docker/Docker_compose",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Docker/Docker_compose.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Docker-env-var",permalink:"/my-notes/docs/Docker/Docker-env-var"},next:{title:"Docker_engine",permalink:"/my-notes/docs/Docker/Docker_engine"}},l={},a=[{value:"Docker composer",id:"docker-composer",level:2},{value:"Docker compose - build",id:"docker-compose---build",level:3},{value:"Docker compose -version",id:"docker-compose--version",level:3}];function t(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"docker-composer",children:"Docker composer"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"docker run container_name/app_name\n\ndocker run mongodb\n\ndocker run redis:alpine\n\ndocker run ansible\n\n"})}),"\n",(0,s.jsx)(n.p,{children:"user docker composer run complex applications"}),"\n",(0,s.jsx)(n.p,{children:"docker-compose.yml"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",children:'services:\n  web:\n    image: "contaimer_name/app"\n  database: \n    image: "mongodb"\n  messaging:\n    image: "redis:alpine"\n  orchestration:\n    image: "ansible"\n'})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker-compose up\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"docker run multiple applications"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cmd",children:"docker run -d --name=redis redis\n\ndocker run -d --name=db postgres:9.4 result-app\n\ndocker run -d --name=vote -p 5000:80 voting-app\n\ndocker run -d --name=result -p 5001:80\n\ndocker run -d --name=worker worker\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"docker run --links\nlink applications"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cmd",children:"docker run -d --name=redis redis\n\ndocker run -d --name=db postgres:9.4 --link db:db result-app\n\ndocker run -d --name=vote -p 5000:80 --link redis:redis voting-app\n\ndocker run -d --name=result -p 5001:80\n\ndocker run -d --name=worker --link db:db --link redis:redis worker\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"docker compose"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",children:"redis: \n  image: redis\ndb: \n  image: postgres: 9.4\nvote:\n  image: voting-app\n  ports:\n    - 5000:80\n  links:\n    - redis\n\nresult: \n  image: result-app\n  ports: \n    - 5001:80\n  links:\n    - db\n\nworker: \n  image: worker\n  links:\n    - redis\n    - db\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"run compose file"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cmd",children:"docker-conpose up\n"})}),"\n",(0,s.jsx)(n.h3,{id:"docker-compose---build",children:"Docker compose - build"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",children:"redis: \n  image: redis\ndb: \n  image: postgres: 9.4\nvote:\n  build: ./vote\n  ports:\n    - 5000:80\n  links:\n    - redis\n\nresult: \n  build: ./result\n  ports: \n    - 5001:80\n  links:\n    - db\n\nworker: \n  image: worker\n  links:\n    - redis\n    - db\n"})}),"\n",(0,s.jsx)(n.h3,{id:"docker-compose--version",children:"Docker compose -version"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"version 1"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",children:"redis: \n  image: redis\ndb: \n  image: postgres: 9.4\nvote:\n  build: ./vote\n  ports:\n    - 5000:80\n  links:\n    - redis\n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"version 2"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",children:"version: 2\nservices: \n  redis: \n    image: redis\n\n    networks:\n      - back-end\n  db: \n    image: postgres: 9.4\n    network: \n      - backend-end\n  vote:\n    build: ./vote\n    network: \n      - front-end\n      - back-end\n\n  result: \n    image: result\n    network: \n      - front-end \n      - back-end\n\nnetworks: \n  front-end: \n  back-end: \n"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"version 3"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",children:"version: 3\nservices: \n  redis: \n    image: redis\n  db: \n    image: postgres: 9.4\n  vote:\n    build: ./vote\n    ports:\n      - 5000:80\n"})})]})}function p(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>d,a:()=>i});var s=r(7294);const o={},c=s.createContext(o);function i(e){const n=s.useContext(c);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);